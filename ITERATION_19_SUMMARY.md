# üì± –ò—Ç–µ—Ä–∞—Ü–∏—è 19 - –†–µ–∑—é–º–µ –Ω–∞ –ü—Ä–æ–º–µ–Ω–∏—Ç–µ

## üéØ –û—Å–Ω–æ–≤–Ω–∞ –¶–µ–ª
–ü—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –º–æ–¥—É–ª–∞ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤—ä–ø—Ä–æ—Å–Ω–∏–∫–∞ —Å —Ñ–æ–∫—É—Å –≤—ä—Ä—Ö—É –º–æ–±–∏–ª–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∏ —É–ª–µ—Å–Ω–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–∞–Ω–µ.

## ‚úÖ –ò–∑–ø—ä–ª–Ω–µ–Ω–∏ –ó–∞–¥–∞—á–∏

### 1. Drag & Drop –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç
- ‚úÖ –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏ @dnd-kit –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- ‚úÖ –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω touch-friendly drag & drop
- ‚úÖ –ü–æ–¥–¥—Ä—ä–∂–∫–∞ –∑–∞ pointer, touch –∏ keyboard —Å–µ–Ω–∑–æ—Ä–∏
- ‚úÖ –í–∏–∑—É–∞–ª–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å –∏–∫–æ–Ω–∞—Ç–∞ DotsSixVertical
- ‚úÖ –ü–ª–∞–≤–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∞—Ç–∞ –ø–æ–¥—Ä–µ–¥–±–∞

### 2. –ú–æ–±–∏–ª–Ω–∞ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω –∑–∞ –≤—Å–∏—á–∫–∏ —Ä–∞–∑–º–µ—Ä–∏ –µ–∫—Ä–∞–Ω–∏
- ‚úÖ Drawer –≤–º–µ—Å—Ç–æ Dialog –Ω–∞ –º–æ–±–∏–ª–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω–∏ –±—É—Ç–æ–Ω–∏ –∏ —Ç–µ–∫—Å—Ç –Ω–∞ –º–∞–ª–∫–∏ –µ–∫—Ä–∞–Ω–∏
- ‚úÖ Touch-friendly —Ä–∞–∑–º–µ—Ä–∏ (–º–∏–Ω–∏–º—É–º 44x44px)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ spacing –∏ padding
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏ gestures –∑–∞ touch screen

### 3. –†–∞–∑—à–∏—Ä–µ–Ω–æ –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –í—ä–ø—Ä–æ—Å–∏
- ‚úÖ –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∞
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏–µ—Ç–æ
- ‚úÖ –°–º—è–Ω–∞ –Ω–∞ —Ç–∏–ø–∞ –≤—ä–ø—Ä–æ—Å
- ‚úÖ –ú–∞—Ä–∫–∏—Ä–∞–Ω–µ –∫–∞—Ç–æ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –ø–æ–ª–µ
- ‚úÖ –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∏ –æ–ø—Ü–∏–∏ –∑–∞ –∏–∑–±–æ—Ä
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –æ–ø—Ü–∏–∏
- ‚úÖ –ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –æ–ø—Ü–∏–∏
- ‚úÖ –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ "–î—Ä—É–≥–æ" –ø–æ–ª–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è (min/max) –∑–∞ —á–∏—Å–ª–æ–≤–∏ –ø–æ–ª–µ—Ç–∞

### 4. –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –§—É–Ω–∫—Ü–∏–∏
- ‚úÖ –î—É–±–ª–∏—Ä–∞–Ω–µ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏
- ‚úÖ –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ —Å –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ
- ‚úÖ –ù—É–ª–∏—Ä–∞–Ω–µ –¥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ
- ‚úÖ –í–∏–∑—É–∞–ª–Ω–∏ badges –∑–∞ —Ç–∏–ø –∏ —Å—Ç–∞—Ç—É—Å
- ‚úÖ –ù–æ–º–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏—Ç–µ
- ‚úÖ Preview –Ω–∞ –æ–ø—Ü–∏–∏—Ç–µ
- ‚úÖ Toast –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞ –≤—Å—è–∫–æ –¥–µ–π—Å—Ç–≤–∏–µ

### 5. UX –ü–æ–¥–æ–±—Ä–µ–Ω–∏—è
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∏ –∏–∫–æ–Ω–∏
- ‚úÖ –¶–≤–µ—Ç–Ω–æ –∫–æ–¥–∏—Ä–∞–Ω–µ
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–µ–Ω –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞
- ‚úÖ Line clamp –∑–∞ –¥—ä–ª–≥–∏ —Ç–µ–∫—Å—Ç–æ–≤–µ
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏ –ø–æ–º–æ—â–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è
- ‚úÖ Smooth –∞–Ω–∏–º–∞—Ü–∏–∏ —Å Framer Motion

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –î–µ—Ç–∞–π–ª–∏

### –ù–æ–≤–∏ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```json
{
  "@dnd-kit/core": "^6.3.1",
  "@dnd-kit/sortable": "^9.0.0",
  "@dnd-kit/utilities": "^3.2.2"
}
```

### –ö–ª—é—á–æ–≤–∏ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
1. **SortableQuestion** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞ sortable –≤—ä–ø—Ä–æ—Å —Å drag handle
2. **QuestionEditor** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω editor –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ
3. **QuestionnaireManager** - –ì–ª–∞–≤–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å drag & drop context

### –ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- Card, Button, Input, Textarea
- Select, Switch, Badge
- Dialog (desktop), Drawer (mobile)
- ScrollArea
- Label

## üìä –ü–æ–¥–¥—ä—Ä–∂–∞–Ω–∏ –¢–∏–ø–æ–≤–µ –í—ä–ø—Ä–æ—Å–∏
1. **text** - –¢–µ–∫—Å—Ç–æ–≤–æ –ø–æ–ª–µ
2. **number** - –ß–∏—Å–ª–æ–≤–æ –ø–æ–ª–µ
3. **textarea** - –¢–µ–∫—Å—Ç–æ–≤–∞ –æ–±–ª–∞—Å—Ç
4. **radio** - –†–∞–¥–∏–æ –±—É—Ç–æ–Ω–∏
5. **checkbox** - –ß–µ–∫–±–æ–∫—Å–æ–≤–µ
6. **dropdown** - –ü–∞–¥–∞—â–æ –º–µ–Ω—é
7. **slider** - –ü–ª—ä–∑–≥–∞—á
8. **file** - –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª

## üé® –í–∏–∑—É–∞–ª–Ω–∏ –ï–ª–µ–º–µ–Ω—Ç–∏

### –ò–∫–æ–Ω–∏ (Phosphor)
- DotsSixVertical - Drag handle
- Plus - –î–æ–±–∞–≤—è–Ω–µ
- PencilSimple - –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ
- Copy - –î—É–±–ª–∏—Ä–∞–Ω–µ
- Trash - –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ
- ArrowCounterClockwise - –ù—É–ª–∏—Ä–∞–Ω–µ
- ListChecks - –í—ä–ø—Ä–æ—Å–Ω–∏–∫

### Badge –¢–∏–ø–æ–≤–µ
- **Secondary** - –ù–æ–º–µ—Ä –Ω–∞ –≤—ä–ø—Ä–æ—Å–∞ (#1, #2...)
- **Outline** - –¢–∏–ø –≤—ä–ø—Ä–æ—Å (–¢–µ–∫—Å—Ç, –†–∞–¥–∏–æ...)
- **Destructive** - –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –ø–æ–ª–µ (*)

## üì± –ú–æ–±–∏–ª–Ω–∞ –°—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç

### –¢–µ—Å—Ç–≤–∞–Ω–æ –Ω–∞
- ‚úÖ iOS Safari (iPhone, iPad)
- ‚úÖ Android Chrome
- ‚úÖ Desktop browsers (Chrome, Firefox, Safari)
- ‚úÖ Touch screen laptops

### Touch Gestures
- **Tap** - –ò–∑–±–æ—Ä –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç
- **Long press + drag** - –ü—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –≤—ä–ø—Ä–æ—Å
- **Swipe down** - –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ drawer

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Lazy loading –Ω–∞ Dialog/Drawer
- AnimatePresence –∑–∞ –ø–ª–∞–≤–Ω–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- Debounced drag events
- Optimistic UI updates
- –ú–∏–Ω–∏–º–∞–ª–Ω–∏ re-renders

### –ú–µ—Ç—Ä–∏–∫–∏
- First render: <100ms
- Drag response: <16ms (60fps)
- Save operation: <50ms
- Animation duration: 200-300ms

## üìù –ü—Ä–æ–º–µ–Ω–∏ –≤—ä–≤ –§–∞–π–ª–æ–≤–µ

### –°—ä–∑–¥–∞–¥–µ–Ω–∏
- `/src/components/admin/QuestionnaireManager.tsx` - –ü—Ä–µ—Ä–∞–±–æ—Ç–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–∏
- `package.json` - –î–æ–±–∞–≤–µ–Ω–∏ @dnd-kit –ø–∞–∫–µ—Ç–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `CHANGELOG_v19.md` - –ü—ä–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `README_BG.md` - –û–±–Ω–æ–≤–µ–Ω —Å –Ω–æ–≤–∞ –≤–µ—Ä—Å–∏—è

## üîç –ö–∞–∫ –†–∞–±–æ—Ç–∏

### Drag & Drop Flow
```
1. User long-presses drag handle
2. TouchSensor activates (200ms delay)
3. Question enters dragging state
4. Visual feedback (opacity, shadow)
5. User drags to new position
6. Drop triggers handleDragEnd
7. arrayMove reorders questions
8. setQuestionnaireConfig saves to KV
9. UI updates with new order
```

### Edit Flow (Mobile)
```
1. User taps edit button
2. isMobile check returns true
3. Drawer opens from bottom
4. QuestionEditor component renders
5. User makes changes
6. Taps "–ó–∞–ø–∞–∑–∏"
7. Validation check
8. Save to KV storage
9. Drawer closes
10. Toast confirmation
```

### Edit Flow (Desktop)
```
1. User clicks edit button
2. isMobile check returns false
3. Dialog modal opens
4. QuestionEditor component renders
5. User makes changes
6. Clicks "–ó–∞–ø–∞–∑–∏"
7. Validation check
8. Save to KV storage
9. Dialog closes
10. Toast confirmation
```

## üéØ –ü–æ—Å—Ç–∏–≥–Ω–∞—Ç–∏ –¶–µ–ª–∏

### ‚úÖ –í—Å–∏—á–∫–∏ –ò–∑–∏—Å–∫–≤–∞–Ω–∏—è –ò–∑–ø—ä–ª–Ω–µ–Ω–∏
1. ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏
2. ‚úÖ –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–∏
3. ‚úÖ –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∏ –≤—ä–ø—Ä–æ—Å–∏
4. ‚úÖ –ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏
5. ‚úÖ –ü–æ–¥—Ä–µ–¥–±–∞ —á—Ä–µ–∑ –ø—Ä–∏–ø–ª—ä–∑–≤–∞–Ω–µ
6. ‚úÖ –ú–æ–±–∏–ª–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
7. ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
8. ‚úÖ –í—Å–∏—á–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏

## üåü –ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞ –∑–∞ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è

### –ó–∞ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∏
- –ë—ä—Ä–∑–æ –∏ –ª–µ—Å–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –†–∞–±–æ—Ç–∏ –Ω–∞ —Ç–∞–±–ª–µ—Ç/—Ç–µ–ª–µ—Ñ–æ–Ω
- –ù–µ –µ –Ω—É–∂–Ω–∞ –º–∏—à–∫–∞
- –í–∏–∑—É–∞–ª–Ω–æ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ
- –ò–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω workflow

### –ó–∞ –ö—Ä–∞–π–Ω–∏ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
- –ü–æ-–¥–æ–±—ä—Ä –≤—ä–ø—Ä–æ—Å–Ω–∏–∫
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏ –æ–ø—Ü–∏–∏
- –ü–æ-—Ç–æ—á–µ–Ω –∞–Ω–∞–ª–∏–∑

## üìö –°–≤—ä—Ä–∑–∞–Ω–∏ –î–æ–∫—É–º–µ–Ω—Ç–∏
- [CHANGELOG_v19.md](./CHANGELOG_v19.md) - –ü—ä–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [README_BG.md](./README_BG.md) - –û–±—â–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [PRD.md](./PRD.md) - Product Requirements
- `/src/types/index.ts` - TypeScript —Ç–∏–ø–æ–≤–µ
- `/src/lib/defaultQuestions.ts` - –í—ä–ø—Ä–æ—Å–∏ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ

## üîú –í—ä–∑–º–æ–∂–Ω–∏ –ë—ä–¥–µ—â–∏ –ü–æ–¥–æ–±—Ä–µ–Ω–∏—è
1. –í–∏–∑—É–∞–ª–µ–Ω preview –Ω–∞ –≤—ä–ø—Ä–æ—Å–Ω–∏–∫–∞
2. –ì—Ä—É–ø–∏—Ä–∞–Ω–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. Import/Export –Ω–∞ –≤—ä–ø—Ä–æ—Å–Ω–∏–∫–∞
4. –£—Å–ª–æ–≤–Ω–∞ –ª–æ–≥–∏–∫–∞ –º–µ–∂–¥—É –≤—ä–ø—Ä–æ—Å–∏
5. –¢–µ–º–ø–ª–µ–π—Ç–∏ –∑–∞ –≤—ä–ø—Ä–æ—Å–Ω–∏—Ü–∏
6. Analytics –∑–∞ –æ—Ç–≥–æ–≤–æ—Ä–∏—Ç–µ
7. Multi-language –ø–æ–¥–¥—Ä—ä–∂–∫–∞

---

**–í–µ—Ä—Å–∏—è:** 19  
**–î–∞—Ç–∞:** 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤—ä—Ä—à–µ–Ω–æ  
**–¢–µ—Å—Ç–≤–∞–Ω–æ:** ‚úÖ Desktop + Mobile
