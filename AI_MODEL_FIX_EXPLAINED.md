# –û–±—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ AI –ú–æ–¥–µ–ª –ü—Ä–æ–±–ª–µ–º–∞ –∏ –†–µ—à–µ–Ω–∏–µ—Ç–æ

## –ü—Ä–æ–±–ª–µ–º—ä—Ç

**GitHub Spark API –ù–ï –ü–û–ó–í–û–õ–Ø–í–ê –ò–ó–ë–û–† –ù–ê –ú–û–î–ï–õ!**

–ö–æ–≥–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ `window.spark.llm()` API, GitHub Spark –≤–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞ **gpt-4o** –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∫–∞–∫—ä–≤ –º–æ–¥–µ–ª —Å—Ç–µ –∏–∑–±—Ä–∞–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ. –¢–æ–≤–∞ –µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ GitHub Spark –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞, –Ω–µ –≥—Ä–µ—à–∫–∞ –≤ –∫–æ–¥–∞.

### –ó–∞—â–æ —Å–µ —Å–ª—É—á–≤–∞?

```typescript
// –¢–æ–≤–∞ –ù–ï —Ä–∞–±–æ—Ç–∏ –∫–∞–∫—Ç–æ –æ—á–∞–∫–≤–∞—Ç–µ:
window.spark.llm(prompt, "gpt-4o-mini", true)
// GitHub Spark –∏–≥–Ω–æ—Ä–∏—Ä–∞ "gpt-4o-mini" –∏ –∏–∑–ø–æ–ª–∑–≤–∞ gpt-4o

window.spark.llm(prompt, "gemini-1.5-pro", true)  
// –¢–æ–≤–∞ –∏–∑–æ–±—â–æ –Ω–µ –µ –≤—ä–∑–º–æ–∂–Ω–æ! GitHub Spark –ø–æ–¥–¥—ä—Ä–∂–∞ —Å–∞–º–æ gpt-4o
```

## –†–µ—à–µ–Ω–∏–µ—Ç–æ

–ó–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ **–ò–ó–ë–†–ê–ù –û–¢ –í–ê–° –ú–û–î–ï–õ**, —Ç—Ä—è–±–≤–∞ –¥–∞:

1. **–û—Ç–∏–¥–µ—Ç–µ –≤ Admin –ø–∞–Ω–µ–ª–∞**
2. **–ò–∑–±–µ—Ä–µ—Ç–µ Provider** (OpenAI –∏–ª–∏ Google Gemini - –ù–ï GitHub Spark)
3. **–ê–∫—Ç–∏–≤–∏—Ä–∞–π—Ç–µ "–ò–∑–ø–æ–ª–∑–≤–∞–π —Å–æ–±—Å—Ç–≤–µ–Ω API –∫–ª—é—á"**
4. **–í—ä–≤–µ–¥–µ—Ç–µ –≤–∞—à–∏—è API –∫–ª—é—á** (–æ—Ç OpenAI –∏–ª–∏ Google)
5. **–ò–∑–±–µ—Ä–µ—Ç–µ –∂–µ–ª–∞–Ω–∏—è –º–æ–¥–µ–ª** (gpt-4o, gpt-4o-mini, gemini-2.0-flash-exp, –∏ —Ç.–Ω.)
6. **–ó–∞–ø–∞–∑–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ**

## –ö–∞–∫–≤–æ —Å–µ –ø—Ä–æ–º–µ–Ω–∏ –≤ –∫–æ–¥–∞?

### AnalysisScreen.tsx

```typescript
// –ü–†–ï–î–ò (–ø–æ–≥—Ä–µ—à–Ω–æ):
if (useCustomAPI) {
  // –ò–∑–ø–æ–ª–∑–≤–∞ –∏–∑–±—Ä–∞–Ω–∏—è –º–æ–¥–µ–ª ‚úì
  response = await callExternalAPI(...)
} else {
  // –û–ø–∏—Ç –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ –∏–∑–±—Ä–∞–Ω–∏—è –º–æ–¥–µ–ª, –Ω–æ GitHub Spark –≥–æ –∏–≥–Ω–æ—Ä–∏—Ä–∞ ‚úó
  response = await window.spark.llm(prompt, actualModel, jsonMode)
}

// –°–ï–ì–ê (–ø—Ä–∞–≤–∏–ª–Ω–æ):
if (useCustomAPI) {
  // –ò–∑–ø–æ–ª–∑–≤–∞ –í–ê–®–ò–Ø –∏–∑–±—Ä–∞–Ω –º–æ–¥–µ–ª ‚úì
  addLog('info', `‚Üí ‚úÖ –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –°–û–ë–°–¢–í–ï–ù ${actualProvider} API —Å –º–æ–¥–µ–ª ${actualModel}`)
  response = await callExternalAPI(...)
} else {
  // –Ø—Å–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —á–µ GitHub Spark –∏–≥–Ω–æ—Ä–∏—Ä–∞ –∏–∑–±—Ä–∞–Ω–∏—è –º–æ–¥–µ–ª
  addLog('warning', `‚Üí ‚ö†Ô∏è –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ GitHub Spark API (–ò–ì–ù–û–†–ò–†–ê –∏–∑–±—Ä–∞–Ω–∏—è –º–æ–¥–µ–ª!)`)
  console.log(`üåü [SPARK] –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ window.spark.llm (–≤–∏–Ω–∞–≥–∏ gpt-4o)`)
  response = await window.spark.llm(prompt, 'gpt-4o', jsonMode)  // –í–∏–Ω–∞–≥–∏ gpt-4o!
}
```

### AdminScreen.tsx

–î–æ–±–∞–≤–µ–Ω–∏ —è—Å–Ω–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

1. **–ñ—ä–ª—Ç –±–∞–Ω–µ—Ä** –≤ –Ω–∞—á–∞–ª–æ—Ç–æ –∫–æ–≥–∞—Ç–æ –µ –∏–∑–±—Ä–∞–Ω GitHub Spark
2. **Disabled dropdown** –∑–∞ –º–æ–¥–µ–ª –∫–æ–≥–∞—Ç–æ –µ –∏–∑–±—Ä–∞–Ω GitHub Spark
3. **–Ø—Å–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è** —á–µ GitHub Spark –∏–∑–ø–æ–ª–∑–≤–∞ —Ñ–∏–∫—Å–∏—Ä–∞–Ω –º–æ–¥–µ–ª
4. **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ GitHub Spark –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ —Å–µ–≥–∞?

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: GitHub Spark API (–±–µ–∑–ø–ª–∞—Ç–Ω–æ, —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- ‚úÖ –ù–µ –∏–∑–∏—Å–∫–≤–∞ API –∫–ª—é—á
- ‚úÖ –†–∞–±–æ—Ç–∏ –≤–µ–¥–Ω–∞–≥–∞
- ‚ùå **–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞ gpt-4o** (–Ω—è–º–∞ –∏–∑–±–æ—Ä)
- ‚ùå –ü–æ-–±–∞–≤–Ω–æ (60+ —Å–µ–∫—É–Ω–¥–∏ –º–µ–∂–¥—É –∑–∞—è–≤–∫–∏ –∑–∞—Ä–∞–¥–∏ rate limits)
- ‚ùå Rate limit –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–æ–±—Å—Ç–≤–µ–Ω API –ö–ª—é—á (–ø–ª–∞—Ç–µ–Ω–æ, –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- ‚úÖ **–ü—ä–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª –≤—ä—Ä—Ö—É –∏–∑–±–æ—Ä–∞ –Ω–∞ –º–æ–¥–µ–ª**
- ‚úÖ –ü–æ-–±—ä—Ä–∑–æ (5-10 —Å–µ–∫—É–Ω–¥–∏ –º–µ–∂–¥—É –∑–∞—è–≤–∫–∏)
- ‚úÖ –ë–µ–∑ rate limit –ø—Ä–æ–±–ª–µ–º–∏
- ‚úÖ –î–æ—Å—Ç—ä–ø –¥–æ –≤—Å–∏—á–∫–∏ –º–æ–¥–µ–ª–∏ (–≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ Gemini)
- ‚ùå –ò–∑–∏—Å–∫–≤–∞ API –∫–ª—é—á (–ø–ª–∞—Ç–µ–Ω–æ)

## –õ–æ–≥–æ–≤–µ –∑–∞ –¥–µ–±—ä–≥–≤–∞–Ω–µ

–°–µ–≥–∞ –∫–æ–≥–∞—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –∞–Ω–∞–ª–∏–∑, —â–µ –≤–∏–¥–∏—Ç–µ —è—Å–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è:

```
‚úì AI –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞—Ä–µ–¥–µ–Ω–∞: github-spark / gpt-4o
‚ö†Ô∏è GitHub Spark –≤–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞ gpt-4o –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ!
‚ÑπÔ∏è –ó–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∏–∑–±—Ä–∞–Ω –º–æ–¥–µ–ª, –¥–æ–±–∞–≤–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω API –∫–ª—é—á –≤ Admin –ø–∞–Ω–µ–ª–∞
üîß –†–µ–∂–∏–º: GitHub Spark –≤–≥—Ä–∞–¥–µ–Ω –º–æ–¥–µ–ª (–≤–∏–Ω–∞–≥–∏ gpt-4o) | –ó–∞–±–∞–≤—è–Ω–µ: 60000ms
LLM –∑–∞—è–≤–∫–∞ (–æ–ø–∏—Ç 1/2) –∫—ä–º github-spark/gpt-4o...
‚Üí ‚ö†Ô∏è –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ GitHub Spark API (–ò–ì–ù–û–†–ò–†–ê –∏–∑–±—Ä–∞–Ω–∏—è –º–æ–¥–µ–ª!)
```

–ò–õ–ò –ø—Ä–∏ —Å–æ–±—Å—Ç–≤–µ–Ω API:

```
‚úì AI –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞—Ä–µ–¥–µ–Ω–∞: openai / gpt-4o-mini
üîß –†–µ–∂–∏–º: –°–æ–±—Å—Ç–≤–µ–Ω API (openai - gpt-4o-mini) | –ó–∞–±–∞–≤—è–Ω–µ: 5000ms
LLM –∑–∞—è–≤–∫–∞ (–æ–ø–∏—Ç 1/2) –∫—ä–º openai/gpt-4o-mini...
‚Üí ‚úÖ –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –°–û–ë–°–¢–í–ï–ù openai API —Å –º–æ–¥–µ–ª gpt-4o-mini
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–¢–æ–≤–∞ –Ω–µ –µ –±—ä–≥ –≤ –Ω–∞—à–∏—è –∫–æ–¥!** –¢–æ–≤–∞ –µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ GitHub Spark –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞. 

–ó–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∏–∑–±—Ä–∞–Ω –º–æ–¥–µ–ª, –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω API –∫–ª—é—á –æ—Ç OpenAI –∏–ª–∏ Google.
